# ============================================================
# VARIABLES DE ENTORNO - SISTEMA DE GESTIÓN DOCUMENTARIA (SGD)
# ============================================================
# IMPORTANTE: Este es un archivo de ejemplo
# 1. Copiar como ".env" en la raíz del proyecto
# 2. Reemplazar TODOS los valores de ejemplo
# 3. NUNCA subir .env a Git (está en .gitignore)
# ============================================================

# ============================================================
# CONFIGURACIÓN DEL SERVIDOR
# ============================================================
NODE_ENV=production
PORT=3000

# ============================================================
# CONFIGURACIÓN DE SEGURIDAD JWT
# ============================================================
# IMPORTANTE: Generar secretos seguros con:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CAMBIAR_POR_SECRETO_SEGURO_DE_64_CARACTERES_O_MAS
JWT_REFRESH_SECRET=CAMBIAR_POR_OTRO_SECRETO_DIFERENTE_DE_64_CARACTERES_O_MAS

# Tiempo de expiración del token principal (formato: 1h, 24h, 7d)
JWT_EXPIRES_IN=24h

# Tiempo de expiración del refresh token
JWT_REFRESH_EXPIRES_IN=7d

# ==================================
# CONFIGURACIÓN DE BASE DE DATOS
# ==================================

# Host del servidor MySQL
DB_HOST=localhost

# Puerto de MySQL (por defecto 3306)
DB_PORT=3306

# Nombre de la base de datos
DB_NAME=sgd_db

# Usuario de la base de datos
DB_USER=root

# Contraseña de la base de datos
DB_PASSWORD=

# ============================================================
# CONFIGURACIÓN DE SEGURIDAD ADICIONAL
# ============================================================
# Número máximo de intentos de login fallidos antes de bloquear
MAX_LOGIN_ATTEMPTS=5

# Ventana de tiempo para contar intentos de login (en minutos)
LOGIN_ATTEMPT_WINDOW=15

# Número máximo de sesiones activas por usuario
MAX_SESSIONS_PER_USER=3

# Número de rounds para bcrypt (10-12 recomendado para producción)
BCRYPT_ROUNDS=10

# ============================================================
# CONFIGURACIÓN DE CORS Y FRONTEND
# ============================================================
# URL del frontend (sin barra final)
FRONTEND_URL=https://tudominio.com

# Orígenes permitidos para CORS (separados por coma)
# Ejemplo: https://app.tudominio.com,https://admin.tudominio.com
CORS_ORIGIN=https://tudominio.com

# Permitir credenciales en CORS
CORS_CREDENTIALS=true

# ============================================================
# CONFIGURACIÓN DE ARCHIVOS Y UPLOADS
# ============================================================
# Ruta absoluta para almacenamiento de archivos
UPLOAD_PATH=./uploads

# Tamaño máximo de archivo en MB
MAX_FILE_SIZE=10

# Formatos permitidos (MIME types separados por coma)
ALLOWED_FILE_TYPES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,image/jpeg,image/jpg,image/png

# Tamaño máximo en bytes (alternativa)
MAX_FILE_SIZE_BYTES=10485760

# ============================================================
# CONFIGURACIÓN DE EMAIL (NOTIFICACIONES)
# ============================================================
# Configuración SMTP para envío de emails
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=tucorreo@gmail.com
EMAIL_PASSWORD=tu_password_de_aplicacion_gmail
EMAIL_FROM=noreply@sgd.gob.pe
EMAIL_FROM_NAME=Sistema de Gestión Documentaria - DRTC Puno

# ============================================================
# CONFIGURACIÓN DE LOGS
# ============================================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7d

# ============================================================
# NOTAS IMPORTANTES DE SEGURIDAD
# ============================================================
# - JWT_SECRET y JWT_REFRESH_SECRET DEBEN ser diferentes
# - Usar contraseñas de al menos 64 caracteres aleatorios
# - DB_PASSWORD debe ser una contraseña fuerte en producción
# - FRONTEND_URL debe coincidir con el dominio real
# - Verificar que UPLOAD_PATH tenga permisos de escritura
# - Para Gmail usar "Contraseñas de aplicación" (2FA)
# - Cambiar todos los valores de ejemplo antes de desplegar
# ============================================================
